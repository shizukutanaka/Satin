# Satin バッチ最適化・安定化ユーティリティ活用ガイド

Satin配下の各種ツール・設定ファイルを「高速・安全・安定」かつ一括で管理できるバッチユーティリティ群の使い方・設計思想・復旧手順をまとめます。

## 1. 各バッチツールの概要

- `manage_satin.py` : 設定ファイル全体のバリデーション・一括バックアップ
- `comment_manager_batch.py` : コメント管理用設定ファイルのバリデーション・一括バックアップ
- `tts_manager_batch.py` : TTS設定ファイルのバリデーション・一括バックアップ
- `overlay_manager_batch.py` : オーバーレイ設定ファイルのバリデーション・一括バックアップ

すべて「並列バッチ処理」「進捗バー」「プロファイリング」「詳細ログ記録」に対応。

## 2. 使い方の例

```sh
# 例: 全設定ファイルをバリデーション
python manage_satin.py
# 例: コメント設定ファイルのみバリデーション＆バックアップ
python comment_manager_batch.py
# 例: TTS設定ファイルのみバリデーション＆バックアップ
python tts_manager_batch.py
# 例: オーバーレイ設定ファイルのみバリデーション＆バックアップ
python overlay_manager_batch.py
```

## 3. ログ・復旧・トラブル時の対処

- ログファイル（satin_profile.log等）でエラーや実行時間を確認
- バックアップ(zip)からの復旧は、zipを展開し元ファイルを上書きするだけ
- バリデーションエラー時はエラーログ参照＋必要に応じて手動修正

## 4. 設計思想・今後の拡張

- 「高速・安全・安定」な一括管理を目指し、すべての重い処理を並列化＋進捗可視化
- 重大エラー時も他の処理が止まらないよう堅牢設計
- 今後は「自動リストア」「バージョン管理」「バッチ処理結果のGUI可視化」なども拡張可能

---

## 5. バッチテスト用ダミーデータ生成・削除ユーティリティ

- `batch_test_util.py` で各種ダミー設定ファイル(config_*.json, comment_manager_*.json, tts_*.json, overlay_*.json)を一括生成・削除可能
- バッチ処理の動作検証・負荷試験・異常系テストに便利

### 使い方例
```sh
python batch_test_util.py
# → 対話形式で種類・個数を指定して生成/削除
```
- テスト用ディレクトリ(test_configs)にまとめて生成・一括削除も可能

### テスト自動化・異常系検証のヒント
- ダミー生成時に一部キー欠損や不正値を混ぜることで、バリデーションやエラー処理の自動テストも可能
- バッチ処理のCI/CD自動化や、テスト結果の自動レポート出力にも対応しやすい設計

---

ご要望・改善案があればIssues等でご連絡ください！
